# Go数组与切片实战演示

## 简介
本项目是一个专为Go语言初学者设计的动手实践示例，重点讲解Go中**数组（array）**和**切片（slice）**的基本概念、区别及常见操作。通过两个独立但互补的代码示例，帮助你理解何时使用数组、何时使用切片，以及如何高效地操作它们。

## 学习目标
- 理解Go中数组和切片的区别
- 掌握切片的创建、截取、追加等核心操作
- 学会使用内置函数如 `len()`, `cap()`, `append()`
- 理解切片底层的引用机制
- 实践Go语言编码规范

## 环境要求
- 操作系统：Windows / Linux / macOS（任意）
- Go版本：1.19 或更高版本（推荐使用稳定版，如 1.21）
- 命令行终端（如 Terminal、CMD、PowerShell）
- 文本编辑器或IDE（如 VS Code + Go插件）

## 安装依赖的详细步骤
本项目不依赖任何外部库，仅使用Go标准库，因此无需安装额外依赖。

1. 下载并安装Go：访问 [https://golang.org/dl/](https://golang.org/dl/) 下载对应系统的安装包
2. 安装完成后，在终端运行以下命令验证安装：
   ```bash
   go version
   ```
   预期输出示例：
   ```
   go version go1.21.0 linux/amd64
   ```
3. 设置工作目录（可选）：
   ```bash
   mkdir go-slice-demo && cd go-slice-demo
   ```

## 文件说明
- `main.go`：主程序文件，演示数组和切片的基础操作
- `slices_advanced.go`：进阶示例，展示切片的动态扩容、共享底层数组等特性
- `go.mod`：Go模块声明文件（由`go mod init`生成）

## 逐步实操指南

### 步骤1：初始化Go模块
```bash
go mod init slice-demo
```

预期输出：
```bash
go: creating new go.mod: module slice-demo
```

### 步骤2：创建并运行主程序
将 `main.go` 内容保存到文件中，然后执行：
```bash
go run main.go
```

预期输出：
```
数组 arr: [1 2 3 4 5]
切片 s: [2 3 4]
切片长度: 3, 容量: 4
追加后的切片: [2 3 4 6 7]
```

### 步骤3：运行进阶示例
将 `slices_advanced.go` 内容保存到文件中，然后执行：
```bash
go run slices_advanced.go
```

预期输出：
```
原始切片: [a b c d]
子切片 sub1: [b c], 长度: 2, 容量: 3
sub1追加后: [b c e f], 长度: 4, 容量: 6
注意：原切片仍为: [a b c d]（已发生复制）
```

## 代码解析

### main.go 关键点
- 使用 `[5]int{1,2,3,4,5}` 创建固定长度数组
- 使用 `arr[1:4]` 创建切片，起始索引包含，结束索引不包含
- `len(s)` 获取切片长度，`cap(s)` 获取容量（从起始位置到底层数组末尾）
- `append(s, 6, 7)` 向切片追加元素，可能触发扩容

### slices_advanced.go 关键点
- 切片是引用类型，多个切片可共享同一底层数组
- 当切片扩容超过容量时，Go会自动分配新数组并复制数据
- 修改未扩容的共享部分会影响原数组

## 预期输出示例
完整运行两个文件后，应看到类似上述的输出结果，表明你已成功理解切片的行为模式。

## 常见问题解答

**Q: 数组和切片有什么区别？**
A: 数组是值类型、固定长度；切片是引用类型、动态长度，底层指向数组。

**Q: 为什么修改切片有时会影响原数组？**
A: 因为切片共享底层数组。只要不触发扩容，修改切片元素会影响原数组。

**Q: `append` 一定会创建新数组吗？**
A: 不一定。只有当切片容量不足时才会分配新底层数组。

**Q: 如何避免意外的数据共享？**
A: 使用 `copy()` 函数显式复制，或用 `make()` 创建新切片。

## 扩展学习建议
- 阅读官方博客《Go Slices: usage and internals》
- 尝试实现一个动态字符串拼接器（类似 `strings.Builder`）
- 学习 `copy()` 和 `make()` 函数的高级用法
- 探索切片的零值与 `nil` 切片的区别