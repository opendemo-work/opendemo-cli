# Go方法接收者演示

## 简介
本示例演示了Go语言中方法接收者的两种形式：值接收者和指针接收者。通过具体代码展示它们在修改数据、性能影响和使用习惯上的差异。

## 学习目标
- 理解值接收者和指针接收者的语法和语义区别
- 掌握何时使用值接收者，何时使用指针接收者
- 理解方法集对接口实现的影响

## 环境要求
- Go 1.19 或更高版本（推荐使用稳定版）
- 支持命令行操作的系统（Windows / Linux / macOS）

## 安装依赖的详细步骤
本项目无外部依赖，仅使用Go标准库。

1. 下载并安装Go：https://golang.org/dl/
2. 验证安装：
   ```bash
   go version
   ```
   预期输出类似：
   ```
   go version go1.21.0 linux/amd64
   ```

## 文件说明
- `main.go`：主程序，展示值接收者和指针接收者的使用
- `person.go`：定义Person结构体及其相关方法

## 逐步实操指南

### 步骤1：创建项目目录
```bash
mkdir go-method-receivers-demo
cd go-method-receivers-demo
```

### 步骤2：创建并写入代码文件
将以下内容分别保存为对应文件：

创建 person.go：
```bash
cat > person.go << 'EOF'
// 内容由生成器提供
EOF
```

创建 main.go：
```bash
cat > main.go << 'EOF'
// 内容由生成器提供
EOF
```

### 步骤3：运行程序
```bash
go run main.go
```

预期输出：
```
原始姓名: Alice
调用值接收者方法后: Alice
调用指针接收者方法后: Bob
```

## 代码解析

### person.go
- `func (p Person) SetValueByValue(name string)`：值接收者，接收的是Person的副本，无法修改原对象
- `func (p *Person) SetValueByPointer(name string)`：指针接收者，可直接修改原始对象

### main.go
- 演示了对同一结构体变量调用两种不同接收者方法的效果对比
- 展示了即使使用值接收者语法，Go也会自动解引用指针来调用方法的便利性

## 预期输出示例
```
原始姓名: Alice
调用值接收者方法后: Alice
调用指针接收者方法后: Bob
```

## 常见问题解答

**Q: 为什么值接收者不能修改原始结构体？**
A: 因为值接收者接收的是结构体的副本，所有修改都作用于副本上，不影响原始变量。

**Q: 应该什么时候使用指针接收者？**
A: 当需要修改接收者，或结构体较大时（避免复制开销），应使用指针接收者。

**Q: 方法集对接口实现有什么影响？**
A: 如果接口方法需要用指针接收者实现，则只有该类型的指针才能满足接口；值接收者则值和指针都能满足。

## 扩展学习建议
- 阅读《Effective Go》中关于方法接收者的章节
- 尝试为Person添加更多方法，混合使用值和指针接收者
- 实验大型结构体的性能差异
- 学习接口和方法集的关系