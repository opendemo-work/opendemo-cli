# 布尔索引实战演示

## 简介
本项目通过两个实际场景演示Python中布尔索引（Boolean Indexing）的强大功能。布尔索引是使用布尔条件从数组或数据集中高效筛选数据的核心技术，广泛应用于数据分析与科学计算。

## 学习目标
- 理解布尔索引的基本概念
- 掌握在NumPy数组中使用布尔条件筛选数据
- 学会在多维数组中组合多个条件进行数据过滤
- 提升对向量化操作的理解

## 环境要求
- Python 3.8 或更高版本
- 操作系统：Windows、Linux、macOS 均支持

## 安装依赖的详细步骤

1. 打开终端（命令提示符或终端）
2. 确保已安装pip（Python包管理器）
   ```bash
   python --version
   pip --version
   ```
3. 安装所需依赖：
   ```bash
   pip install -r requirements.txt
   ```

## 文件说明
- `code/example1.py`：基础布尔索引示例，筛选一维数组中的偶数和大于某值的元素
- `code/example2.py`：高级布尔索引示例，处理二维数组并组合多个条件
- `requirements.txt`：项目依赖声明文件

## 逐步实操指南

### 步骤1：创建代码目录
```bash
mkdir -p code
```

### 步骤2：运行第一个示例
```bash
python code/example1.py
```
**预期输出**：
```
原始数组: [ 1  2  3  4  5  6  7  8  9 10]
偶数元素: [ 2  4  6  8 10]
大于5的元素: [ 6  7  8  9 10]
```

### 步骤3：运行第二个示例
```bash
python code/example2.py
```
**预期输出**：
```
原始二维数组:\n[[ 1  2  3]\n [ 4  5  6]\n [ 7  8  9]\n [10 11 12]]
所有大于5且为奇数的元素: [ 7  9 11]
每行最大值大于8的行:\n[[ 7  8  9]\n [10 11 12]]
```

## 代码解析

### example1.py 关键代码段
```python
# 创建布尔掩码：判断是否为偶数
mask_even = arr % 2 == 0
# 使用布尔索引提取偶数
even_numbers = arr[mask_even]
```
- `arr % 2 == 0` 返回一个与原数组形状相同的布尔数组
- 将该布尔数组作为索引传入，仅返回对应位置为True的元素

### example2.py 关键代码段
```python
# 组合多个布尔条件：大于5 且 为奇数
mask = (arr_2d > 5) & (arr_2d % 2 == 1)
result = arr_2d[mask]
```
- 使用 `&`（与）、`|`（或）组合多个条件
- 注意：每个条件必须用括号包围，否则会出错

## 预期输出示例
见“逐步实操指南”中的输出示例。

## 常见问题解答

**Q1: 为什么组合条件时要用括号？**
A: 因为Python运算符优先级中 `&` 高于比较运算符，不加括号会导致逻辑错误。

**Q2: 布尔索引返回的是视图还是副本？**
A: 布尔索引总是返回**副本**，修改结果不会影响原始数组。

**Q3: 能否用于Pandas？**
Pandas完全支持布尔索引，语法几乎一致，例如 `df[df['age'] > 30]`。

## 扩展学习建议
- 学习NumPy的`np.where()`函数进行条件赋值
- 尝试在Pandas DataFrame中使用布尔索引
- 探索`isin()`方法进行集合成员判断
- 阅读NumPy官方文档中关于索引的部分